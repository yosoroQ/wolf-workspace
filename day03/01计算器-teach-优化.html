<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>计算器</title>

</head>

<body>
    <p>
        数字1： <input type="text" id="num1">
    </p>
    <p>
        数字2： <input type="text" id="num2">
    </p>
    <p>
        <!-- <button onclick="jia()">+</button>
        <button onclick="jian()">-</button>
        <button onclick="cheng()">*</button>
        <button onclick="chu()">/</button> -->

        <!-- day2下午优化，加入参数 -->
        <!-- <button onclick="getResult('+')">+</button>
        <button onclick="getResult('-')">-</button>
        <button onclick="getResult('*')">*</button>
        <button onclick="getResult('/')">/</button> -->

        <!-- day3上午优化，改this关键字 -->
        <button onclick="getResult2(this)">+</button>
        <button onclick="getResult2(this)">-</button>
        <button onclick="getResult2(this)">*</button>
        <button onclick="getResult2(this)">/</button>

        <!-- 第三次优化：通过JS来绑定事件 -->
        <button>+</button>
        <button>-</button>
        <button>*</button>
        <button>/</button>
    </p>
    <p>
        结果：<span id="res"></span>
    </p>
</body>
<script>
    /*
        JS是一种客户交互脚本语言

        JS功能实现最重要的核心是三个步骤：
        1、获取：根据功能需求从用户中或者从系统最获取数据
        2、处理：根据功能需求把获取到的数据进行处理
        3、反馈：根据功能需求把处理完成的结果反馈给用户或者系统
    */

    function jia() {
        // 1、获取
        let num1 = document.getElementById("num1").value * 1
        let num2 = document.getElementById("num2").value * 1

        // 2、处理
        let result = num1 + num2

        // 3、反馈
        document.getElementById("res").innerText = result
    }

    function jian() {
        // 1、获取
        let num1 = document.getElementById("num1").value * 1
        let num2 = document.getElementById("num2").value * 1

        // 2、处理
        let result = num1 - num2

        // 3、反馈
        document.getElementById("res").innerText = result
    }

    function cheng() {
        // 1、获取
        let num1 = document.getElementById("num1").value * 1
        let num2 = document.getElementById("num2").value * 1

        // 2、处理
        let result = num1 * num2

        // 3、反馈
        document.getElementById("res").innerText = result
    }

    function chu() {
        // 1、获取
        let num1 = document.getElementById("num1").value * 1
        let num2 = document.getElementById("num2").value * 1

        // 2、处理
        let result = num1 / num2

        // 3、反馈
        document.getElementById("res").innerText = result
    }

    /**
    参数的真实意义是：通过参数的改变从而改变函数的结果。
    优化程序： 通过加入参数，把四个函数变成一个函数
    */
    // function add(x, y) {
    //     return x + y
    // }
    // alert(add(5, 3))

    function getResult(fuhao) {
        // 1、获取
        let num1 = document.getElementById("num1").value * 1
        let num2 = document.getElementById("num2").value * 1

        // 2、处理
        let result = 0
        switch (fuhao) {
            case "+":
                result = num1 + num2
                break
            case "-":
                result = num1 - num2
                break
            case "*":
                result = num1 * num2
                break
            case "/":
                result = num1 / num2
                break
        }

        // 3、反馈
        document.getElementById("res").innerText = result
    }


    /*
        this:指的是对象自己（本身）。
        第二次优化:通过使用this作为参数使用，所有的参数都进行了统一。*/

        function getResult2(obj) {
        // 1、获取
        let num1 = document.getElementById("num1").value * 1
        let num2 = document.getElementById("num2").value * 1
        let fuhao = obj.innerText

        // 2、处理
        let result = 0
        switch (fuhao) {
            case "+":
                result = num1 + num2
                break
            case "-":
                result = num1 - num2
                break
            case "*":
                result = num1 * num2
                break
            case "/":
                result = num1 / num2
                break
        }

        // 3、反馈
        document.getElementById("res").innerText = result
    }

    /*
        第三次优化：通过JS来绑定元素的事件
    */
   let btns = document.getElementsByTagName("button")
   // ES6以前的基本循环方法 
    // for (let i = 0; i < btns.length; i++) {
    //     console.log(btns[i]);
    // }

   btns = Array.from(btns)

   btns.forEach(function (btn){
    btn.onclick = function(){
        getResult2(btn)
    }
   })

   

</script>

</html>